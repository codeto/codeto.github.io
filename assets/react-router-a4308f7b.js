import{q as m,e as x,g as G}from"./@babel-b64fd0f9.js";import{R as f}from"./react-4fd50329.js";import{P as R}from"./prop-types-1172f4d5.js";import{c as O,a as T,b as F}from"./history-a1882333.js";import{i as E}from"./tiny-invariant-dd7d57d2.js";import{p as K}from"./path-to-regexp-ef8d5544.js";import"./react-is-e8e5dbb3.js";import"./hoist-non-react-statics-23d96a9a.js";var C=1073741823,w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function X(){var t="__global_unique_id__";return w[t]=(w[t]||0)+1}function z(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function J(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(n){return n!==r})},get:function(){return t},set:function(r,n){t=r,e.forEach(function(a){return a(t,n)})}}}function Q(t){return Array.isArray(t)?t[0]:t}function Y(t,e){var i,r,n="__create-react-context-"+X()+"__",a=function(l){m(p,l);function p(){for(var o,c=arguments.length,h=new Array(c),v=0;v<c;v++)h[v]=arguments[v];return o=l.call.apply(l,[this].concat(h))||this,o.emitter=J(o.props.value),o}var u=p.prototype;return u.getChildContext=function(){var c;return c={},c[n]=this.emitter,c},u.componentWillReceiveProps=function(c){if(this.props.value!==c.value){var h=this.props.value,v=c.value,d;z(h,v)?d=0:(d=typeof e=="function"?e(h,v):C,d|=0,d!==0&&this.emitter.set(c.value,d))}},u.render=function(){return this.props.children},p}(f.Component);a.childContextTypes=(i={},i[n]=R.object.isRequired,i);var s=function(l){m(p,l);function p(){for(var o,c=arguments.length,h=new Array(c),v=0;v<c;v++)h[v]=arguments[v];return o=l.call.apply(l,[this].concat(h))||this,o.observedBits=void 0,o.state={value:o.getValue()},o.onUpdate=function(d,_){var g=o.observedBits|0;g&_&&o.setState({value:o.getValue()})},o}var u=p.prototype;return u.componentWillReceiveProps=function(c){var h=c.observedBits;this.observedBits=h??C},u.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var c=this.props.observedBits;this.observedBits=c??C},u.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},u.getValue=function(){return this.context[n]?this.context[n].get():t},u.render=function(){return Q(this.props.children)(this.state.value)},p}(f.Component);return s.contextTypes=(r={},r[n]=R.object,r),{Provider:a,Consumer:s}}var Z=f.createContext||Y,H=function(e){var i=Z();return i.displayName=e,i},$=H("Router-History"),y=H("Router"),N=function(t){m(e,t),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(r){var n;return n=t.call(this,r)||this,n.state={location:r.history.location},n._isMounted=!1,n._pendingLocation=null,r.staticContext||(n.unlisten=r.history.listen(function(a){n._pendingLocation=a})),n}var i=e.prototype;return i.componentDidMount=function(){var n=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(a){n._isMounted&&n.setState({location:a})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return f.createElement(y.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},f.createElement($.Provider,{children:this.props.children||null,value:this.props.history}))},e}(f.Component);f.Component;f.Component;var W={},k=1e4,B=0;function tt(t,e){var i=""+e.end+e.strict+e.sensitive,r=W[i]||(W[i]={});if(r[t])return r[t];var n=[],a=K(t,n,e),s={regexp:a,keys:n};return B<k&&(r[t]=s,B++),s}function j(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,r=i.path,n=i.exact,a=n===void 0?!1:n,s=i.strict,l=s===void 0?!1:s,p=i.sensitive,u=p===void 0?!1:p,o=[].concat(r);return o.reduce(function(c,h){if(!h&&h!=="")return null;if(c)return c;var v=tt(h,{end:a,strict:l,sensitive:u}),d=v.regexp,_=v.keys,g=d.exec(t);if(!g)return null;var b=g[0],I=g.slice(1),L=t===b;return a&&!L?null:{path:h,url:h==="/"&&b===""?"/":b,isExact:L,params:_.reduce(function(A,q,V){return A[q.name]=I[V],A},{})}},null)}function et(t){return f.Children.count(t)===0}var ht=function(t){m(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return f.createElement(y.Consumer,null,function(a){a||E(!1);var s=n.props.location||a.location,l=n.props.computedMatch?n.props.computedMatch:n.props.path?j(s.pathname,n.props):a.match,p=x({},a,{location:s,match:l}),u=n.props,o=u.children,c=u.component,h=u.render;return Array.isArray(o)&&et(o)&&(o=null),f.createElement(y.Provider,{value:p},p.match?o?typeof o=="function"?o(p):o:c?f.createElement(c,p):h?h(p):null:typeof o=="function"?o(p):null)})},e}(f.Component);function M(t){return t.charAt(0)==="/"?t:"/"+t}function nt(t,e){return t?x({},e,{pathname:M(t)+e.pathname}):e}function rt(t,e){if(!t)return e;var i=M(t);return e.pathname.indexOf(i)!==0?e:x({},e,{pathname:e.pathname.substr(i.length)})}function S(t){return typeof t=="string"?t:F(t)}function P(t){return function(){E(!1)}}function D(){}f.Component;var ft=function(t){m(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return f.createElement(y.Consumer,null,function(a){a||E(!1);var s=n.props.location||a.location,l,p;return f.Children.forEach(n.props.children,function(u){if(p==null&&f.isValidElement(u)){l=u;var o=u.props.path||u.props.from;p=o?j(s.pathname,x({},u.props,{path:o})):a.match}}),p?f.cloneElement(l,{location:s,computedMatch:p}):null})},e}(f.Component),U=f.useContext;function vt(){return U($)}function dt(){return U(y).location}function mt(){var t=U(y).match;return t?t.params:{}}export{N as R,ft as S,dt as a,ht as b,y as c,vt as d,j as m,mt as u};
