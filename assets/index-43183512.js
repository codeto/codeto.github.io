import{c as E,j as t,a as R,F as A}from"./@emotion-63839449.js";import{R as F,r as l}from"./react-4fd50329.js";import{B as d,h as z,b4 as T,l as B}from"./index-c2ded735.js";import"./react-redux-896b353b.js";import"./lodash-88fe09e6.js";import"./moment-a468e1f9.js";import"./file-saver-40cf32a9.js";import"./@firebase-43527ee1.js";import{t as o,u as W,j as H}from"./antd-f9eae174.js";import{F as _}from"./index-687ba9e6.js";const D=o.Group,G=o.Password,J=o.Search,Y=o.TextArea,K=c=>E(c,{shouldForwardProp:s=>s!=="fluid",target:"e1j1m9cw0"})("&.ant-select{width:",s=>s.fluid?"100% !important":"auto",";}"),g=d(W,K),U=t(_.Item,{name:"prefix",noStyle:!0,children:t(g,{style:{width:70},children:t(g.Option,{value:"+84",children:"+84"})})}),k=c=>{const s=(h,a)=>t(c,{...h,addonBefore:U,ref:a});return F.forwardRef(s)},q=d(o,k),O="country_codes",Q=E("div",{target:"eivy1aj0"})({name:"9xxivz",styles:"display:flex;flex-wrap:nowrap;padding:8px"}),X=c=>l.forwardRef((s,h)=>{const{value:a={},onChange:C}=s,[b,y]=l.useState(!1),[i,v]=l.useState([]),[p,N]=l.useState(a.countryCode||z),[S,$]=l.useState(()=>a.phoneNumber||null),[f,P]=l.useState(),I=(e,r)=>{C&&C({countryCode:p,phoneNumber:S,...a,...e},r)},w=e=>{N(e),I({countryCode:e},"countryCode")},j=e=>{$(e.target.value),I({phoneNumber:e.target.value},"phoneNumber")},n=e=>!e&&P(),u=e=>{P(e.target.value)};l.useEffect(()=>{(async()=>{y(!0);const e=JSON.parse(localStorage.getItem(O));if(e&&Array.isArray(e)&&e.length){v(e||[]),y(!1);return}const r=await T();v((r==null?void 0:r.data)||[]),localStorage.setItem(O,JSON.stringify((r==null?void 0:r.data)||[])),y(!1)})()},[]);const m=l.useMemo(()=>{let e=i;return f&&(e=i==null?void 0:i.filter(({name:r,dialCode:L})=>`${r} ${L}`.toLowerCase().includes(f.toLowerCase()))),e},[f,i]),M=t(g,{style:{width:80},dropdownMatchSelectWidth:!1,optionLabelProp:"label",dropdownRender:e=>R(A,{children:[t(Q,{children:t(o.Search,{placeholder:B.label.search,onChange:u,value:f})}),t(H,{style:{margin:"4px 0"}}),e]}),onDropdownVisibleChange:n,value:a.countryCode||p,onChange:w,loading:b,children:m==null?void 0:m.map(({name:e,dialCode:r,code:L})=>t(g.Option,{value:r,label:r,children:R("div",{className:"display--flex display--flex--horizontal display--flex--space-between",children:[t("span",{children:e}),t("span",{children:r})]})},L))});return t(c,{...s,ref:h,addonBefore:M,value:a.phoneNumber||S,onChange:j})}),Z=d(o,X),ee=E("div",{target:"epjrwlw0"})({name:"9xxivz",styles:"display:flex;flex-wrap:nowrap;padding:8px"}),x=[{name:"Vietnam",dialCode:"+84",code:"VN"},{name:"Vietnam",dialCode:"1800",code:"VN"},{name:"Vietnam",dialCode:"1900",code:"VN"}],te=c=>l.forwardRef((s,h)=>{const{value:a={},onChange:C}=s,[b,y]=l.useState(a.countryCode||z),[i,v]=l.useState(()=>a.phoneNumber||null),[p,N]=l.useState(),S=(n,u)=>{C&&C({countryCode:b,phoneNumber:i,...a,...n},u)},$=n=>{y(n),S({countryCode:n},"countryCode")},f=n=>{v(n.target.value),S({phoneNumber:n.target.value},"phoneNumber")},P=n=>!n&&N(),I=n=>{N(n.target.value)},w=l.useMemo(()=>{let n=x;return p&&(n=x==null?void 0:x.filter(({name:u,dialCode:m})=>`${u} ${m}`.toLowerCase().includes(p.toLowerCase()))),n},[p,x]),j=t(g,{style:{width:80},dropdownMatchSelectWidth:!1,optionLabelProp:"label",dropdownRender:n=>R(A,{children:[t(ee,{children:t(o.Search,{placeholder:B.label.search,onChange:I,value:p})}),t(H,{style:{margin:"4px 0"}}),n]}),onDropdownVisibleChange:P,value:a.countryCode||b,onChange:$,children:w==null?void 0:w.map(({name:n,dialCode:u,code:m})=>t(g.Option,{value:u,label:u,children:R("div",{className:"display--flex display--flex--horizontal display--flex--space-between",children:[t("span",{children:n}),t("span",{children:u})]})},m))});return t(c,{...s,ref:h,addonBefore:j,value:a.phoneNumber||i,onChange:f})}),ne=d(o,te),V=c=>{const s=(h,a)=>t(c,{...h,maxLength:255,ref:a});return F.forwardRef(s)};o.Group=D;o.Password=G;o.Search=J;o.TextArea=Y;o.Phone=d(q,V);o.PhoneInput=d(Z,V);o.PhoneHotlineInput=d(ne,V);const pe=d(o,V);export{pe as I,g as S,J as a};
