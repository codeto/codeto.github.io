import{h as y}from"./lodash-88fe09e6.js";import{cj as S,ci as g,ch as _,Y as h,l as b}from"./index-c2ded735.js";import{j as a}from"./@emotion-63839449.js";import{P as i}from"./prop-types-1172f4d5.js";import{M as C}from"./index-b17d22e5.js";import"./react-4fd50329.js";import"./react-redux-896b353b.js";import"./moment-a468e1f9.js";import"./file-saver-40cf32a9.js";import"./@firebase-43527ee1.js";import{g as R}from"./antd-f9eae174.js";import{e as M}from"./contract-2ad66738.js";function U({totalNumberUse:t=0,formulaType:n="",formula:m="",ratio:c=1,norm:p=1}){let r=m;if(!r)throw new Error("Formula is empty.");if(!n)throw new Error("Formula type not empty.");y(r)&&(r=JSON.parse(r));let e=t,s=0;switch(n){case _:s=t*r.price,s*=c;break;case g:r.forEach((o,u)=>{if(u<r.length-1){let f;u===0?f=Number(o.to):f=Number(o.to)-Number(o.from)+1;const d=Math.round(f*c)*p;let l=0;e>d?l=d:l=e,e-=l,s+=l*o.price}else e>=0&&(s+=e*o.price)});break;case S:r.forEach(o=>{s+=Math.round((Number(t*o.percent/100).toFixed(2)*o.price).toFixed(2))});break}return s}const E=({services:t,menuActiveKey:n,handleSelectService:m,setEditRowKey:c})=>{const[p]=h(),r=e=>{m(e),c("")};return a(R,{mode:"inline",style:{height:"100%",padding:p.padding},selectedKeys:[],children:t.map(e=>a(C,{onClick:()=>r(e.id),className:n===e.id?"selected":"",children:a("span",{children:e.name})},e.id))})};E.propTypes={services:i.arrayOf(i.any),menuActiveKey:i.oneOfType([i.number,i.string]),handleSelectService:i.func,setEditRowKey:i.func};E.defaultProps={services:[],menuActiveKey:0,handleSelectService:()=>{},setEditRowKey:()=>{}};const K=()=>{const[t]=h();return a("div",{style:{top:0,bottom:0,left:0,right:0,backgroundColor:"rgb(221, 221, 221, 0.5)",position:"absolute",width:"100%",height:"100%",zIndex:4,display:"flex",justifyContent:"center",alignItems:"center"},children:a("span",{style:{fontSize:t.fontSizeTitle,fontWeight:t.fontWeightBold},children:b.service_has_not_set_tariff_yet})})},j=({idBuilding:t,filter:n})=>{(async()=>await M({idBuilding:t,filter:n}))()};export{j as E,K as L,E as S,U as c};
