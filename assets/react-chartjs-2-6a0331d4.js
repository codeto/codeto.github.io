import{r as a,R as b}from"./react-4fd50329.js";import{C,L as v,f as I,g as K}from"./chart.js-33bd684c.js";const y="label";function h(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function O(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function E(t,e){t.labels=e}function R(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y;const u=[];t.datasets=e.map(n=>{const c=t.datasets.find(f=>f[s]===n[s]);return!c||!n.data||u.includes(c)?{...n}:(u.push(c),Object.assign(c,n),c)})}function P(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;const s={labels:[],datasets:[]};return E(s,t.labels),R(s,t.datasets,e),s}function B(t,e){const{height:s=150,width:u=300,redraw:n=!1,datasetIdKey:c,type:f,data:o,options:i,plugins:w=[],fallbackContent:L,updateMode:m,...j}=t,l=a.useRef(null),r=a.useRef(),d=()=>{l.current&&(r.current=new C(l.current,{type:f,data:P(o,c),options:i&&{...i},plugins:w}),h(e,r.current))},g=()=>{h(e,null),r.current&&(r.current.destroy(),r.current=null)};return a.useEffect(()=>{!n&&r.current&&i&&O(r.current,i)},[n,i]),a.useEffect(()=>{!n&&r.current&&E(r.current.config.data,o.labels)},[n,o.labels]),a.useEffect(()=>{!n&&r.current&&o.datasets&&R(r.current.config.data,o.datasets,c)},[n,o.datasets]),a.useEffect(()=>{r.current&&(n?(g(),setTimeout(d)):r.current.update(m))},[n,i,o.labels,o.datasets,m]),a.useEffect(()=>{r.current&&(g(),setTimeout(d))},[f]),a.useEffect(()=>(d(),()=>g()),[]),b.createElement("canvas",Object.assign({ref:l,role:"img",height:s,width:u},j),L)}const T=a.forwardRef(B);function p(t,e){return C.register(e),a.forwardRef((s,u)=>b.createElement(T,Object.assign({},s,{ref:u,type:t})))}const M=p("line",v),$=p("bar",I),q=p("pie",K);export{$ as B,M as L,q as P};
