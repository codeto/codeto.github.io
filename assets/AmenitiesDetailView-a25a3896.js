import{j as t,a as i,F as A}from"./@emotion-63839449.js";import{B as f}from"./index-881eef42.js";import{a as x,l as e,g as E,I as Y}from"./index-c2ded735.js";import{h as a}from"./moment-a468e1f9.js";import"./lodash-88fe09e6.js";import"./file-saver-40cf32a9.js";import{i as D,j as M,c as y,e as T,d as N,b as R}from"./constants-be35a268.js";import{r as g}from"./react-4fd50329.js";import{i as H}from"./amenities-1e1bae0f.js";import{u as C}from"./react-router-a4308f7b.js";import{R as h,b as r,w as S,j as d,K as I}from"./antd-f9eae174.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./@babel-b64fd0f9.js";import"./stylis-79144faa.js";import"./prop-types-1172f4d5.js";import"./classnames-4ba1ba1a.js";import"./redux-10bbab4c.js";import"./react-router-dom-2a8f5f6d.js";import"./history-a1882333.js";import"./resolve-pathname-e210f2ac.js";import"./tiny-invariant-dd7d57d2.js";import"./react-dom-40621ea0.js";import"./scheduler-765c72db.js";import"./@redux-saga-8bafe09b.js";import"./react-redux-896b353b.js";import"./use-sync-external-store-5d1b6592.js";import"./redux-logger-e1c9ca90.js";import"./dompurify-8e338605.js";import"./query-string-f5cca1e7.js";import"./decode-uri-component-4138e85d.js";import"./split-on-first-4f1167c8.js";import"./filter-obj-2ed190f4.js";import"./oidc-client-7da0eaf7.js";import"./@firebase-43527ee1.js";import"./idb-cdd1a92f.js";import"./firebase-878887a2.js";import"./rc-pagination-c1e6a0ac.js";import"./rc-picker-2e3d5fe5.js";import"./rc-util-0bc219f3.js";import"./rc-trigger-570b13ec.js";import"./rc-motion-ae889c42.js";import"./rc-align-e5d7b12e.js";import"./dom-align-ecb06dd6.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./rc-resize-observer-b9ad4e29.js";import"./@ant-design-cba9d434.js";import"./@ctrl-fb5a5473.js";import"./rc-tabs-dfd19a56.js";import"./rc-dropdown-5378dd0a.js";import"./rc-menu-b15ebfe9.js";import"./rc-overflow-6be96612.js";import"./rc-select-564caf01.js";import"./rc-virtual-list-8a7b82a6.js";import"./rc-collapse-11b7d3c4.js";import"./shallowequal-4542d6f7.js";import"./rc-drawer-317f0b4d.js";import"./@rc-component-5a112e55.js";import"./rc-field-form-ef5549aa.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./rc-image-e0357917.js";import"./rc-dialog-b1d1f07b.js";import"./rc-input-number-8bc068f7.js";import"./rc-rate-c64cf0d5.js";import"./rc-steps-2d1924c7.js";import"./rc-switch-b4e96de7.js";import"./rc-table-191ecc42.js";import"./rc-checkbox-018e8052.js";import"./rc-tree-67773537.js";import"./rc-tree-select-cb7eccc3.js";import"./copy-to-clipboard-64585c8c.js";import"./toggle-selection-93f4ad84.js";import"./rc-textarea-d01adcbb.js";import"./rc-input-02c2c2ba.js";import"./rc-upload-3ab0f08a.js";import"./rc-notification-d13dc43b.js";import"./rc-progress-4f1a7096.js";import"./rc-tooltip-08fa4217.js";import"./path-to-regexp-ef8d5544.js";const b=()=>{const{setTitlePage:n}=g.useContext(x),{idBuilding:p,idAmenitiesMerchantOrder:s}=C(),[o,c]=g.useState({});g.useEffect(()=>((async()=>{n(e.amenities_merchant_order_detail);const l=await H(s,p);c(l.data)})(),()=>{n("")}),[]);const m=()=>{const l=a();return!!(![D,M].includes(o==null?void 0:o.status)&&o!=null&&o.paymentDueDate&&l.isAfter(a(o==null?void 0:o.paymentDueDate)))};return[o,(()=>{let l={show:!1,namePerson:"",time:"",reason:""};return o!=null&&o.rejectAt&&(l={show:!0,namePerson:(o==null?void 0:o.employeeName)||"",time:a(o==null?void 0:o.rejectAt).format("DD/MM/YYYY HH:mm"),reason:o==null?void 0:o.rejectReason,cancelBy:y[T].label}),o!=null&&o.cancelAt&&(l={show:!0,namePerson:(o==null?void 0:o.residentName)||"",time:a(o==null?void 0:o.cancelAt).format("DD/MM/YYYY HH:mm"),reason:o==null?void 0:o.rejectReason,cancelBy:y[N].label}),l})(),m()]},ln=()=>{var o,c,m,u,l,_;const[n,p,s]=b();return t("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:i(f,{style:{flex:1},children:[i(f.Header,{children:[t(h,{gutter:[8,0],style:{verticalAlign:"center"},children:i(r,{span:12,children:[i("div",{style:{display:"flex",alignItems:"center",height:s?"unset":"100%"},children:[i("span",{style:{fontWeight:"bold",fontSize:"14px"},children:[e.label.order_utility," ",n==null?void 0:n.code]}),t(S,{style:{marginLeft:"20px",borderRadius:"15px",fontSize:"11px"},color:"#3b5999",children:R[n.status]})]}),s&&t("span",{style:{color:"#f5222d"},children:e.description.payment_order_has_expired})]})}),t(d,{style:{marginTop:"5px",marginBottom:"0px"}})]}),i(f.Content,{scrollY:!0,children:[i("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[t("img",{src:((o=n==null?void 0:n.utility)==null?void 0:o.coverPhoto)??void 0,style:{width:"150px",height:"150px"},alt:"cover"}),i("div",{style:{marginLeft:"8px"},children:[t("h4",{style:{fontWeight:"bold"},children:((m=(c=n==null?void 0:n.utility)==null?void 0:c.name)==null?void 0:m[E()])??""}),i("span",{children:[t(Y,{name:"icon-environment-outlined"})," ",(u=n==null?void 0:n.utility)==null?void 0:u.location]})]})]}),t(d,{style:{marginTop:"10px",marginBottom:"10px"}}),t("div",{children:i(h,{gutter:[8,8],children:[t(r,{span:"8",children:i("span",{children:[e.order_time,":"]})}),t(r,{span:"16",children:t("span",{children:a(n==null?void 0:n.createdAt).format("DD/MM/YYYY HH:mm")})}),t(r,{span:"8",children:i("span",{children:[e.orderer,":"]})}),t(r,{span:"16",children:i("span",{children:[n==null?void 0:n.residentName," - ",n==null?void 0:n.unitName]})}),t(r,{span:"8",children:i("span",{children:[e.usage_time,":"]})}),t(r,{span:"16",children:t("span",{children:n.startDateUsage?a(new Date(n.startDateUsage)).format("DD/MM/YYYY"):""})}),t(r,{span:"8",children:i("span",{children:[e.confirm_time,":"]})}),t(r,{span:"16",children:t("span",{children:n.acceptAt?a(new Date(n.acceptAt)).format("DD/MM/YYYY HH:mm"):""})}),t(r,{span:"8",children:i("span",{children:[e.start_time,":"]})}),t(r,{span:"16",children:t("span",{children:n.startActionTime?a(n.startActionTime).format("DD/MM/YYYY HH:mm"):""})}),t(r,{span:"8",children:i("span",{children:[e.end_time,":"]})}),t(r,{span:"16",children:t("span",{children:n.endActionTime?a(n.endActionTime).format("DD/MM/YYYY HH:mm"):""})}),t(r,{span:"8",children:i("span",{children:[e.note,":"]})}),t(r,{span:"16",children:t("span",{children:n.note})})]})}),(n==null?void 0:n.status)===D?i(A,{children:[t(d,{style:{marginTop:"10px",marginBottom:"10px"}}),t("div",{children:i(h,{gutter:[8,8],style:{marginTop:"10px"},children:[t(r,{span:"8",children:t("h3",{style:{display:"inline"},className:"text--font-semi-bold",children:e.label.rating})}),t(r,{span:"16",children:t(I,{disabled:!0,value:((l=n==null?void 0:n.ratings)==null?void 0:l.point)??0})}),t(r,{span:"8",children:i("span",{children:[e.label.comment,":"]})}),t(r,{span:"16",children:t("span",{className:"text--font-semi-bold",children:(_=n==null?void 0:n.ratings)==null?void 0:_.comment})})]})})]}):null,p.show&&i(A,{children:[t(d,{style:{marginTop:"10px",marginBottom:"10px"}}),i("div",{children:[t("h3",{className:"text--font-semi-bold",children:e.cancel_info}),i(h,{gutter:[8,8],style:{marginTop:"10px"},children:[t(r,{span:"8",children:i("span",{children:[e.cancel_by,":"]})}),t(r,{span:"16",children:t("span",{children:p.cancelBy})}),t(r,{span:"8",children:i("span",{children:[e.canceler,":"]})}),t(r,{span:"16",children:t("span",{children:p==null?void 0:p.namePerson})}),t(r,{span:"8",children:i("span",{children:[e.cancel_time,":"]})}),t(r,{span:"16",children:t("span",{children:p==null?void 0:p.time})}),t(r,{span:"8",children:i("span",{children:[e.reason,":"]})}),t(r,{span:"16",children:t("span",{children:p==null?void 0:p.reason})})]})]})]})]})]})})};export{ln as default};
